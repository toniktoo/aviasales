(this.webpackJsonpaviasales=this.webpackJsonpaviasales||[]).push([[0],{34:function(e,t,n){e.exports=n.p+"static/media/logo.0c089234.svg"},38:function(e,t,n){e.exports=n(86)},44:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(29),i=n.n(c),o=(n(43),n(44),n(9)),u=n(36),s=n(10),l=n.n(s),f=n(12),d=n(8),p=n(14),b=n.n(p),m=n(1),g=n(2),h=n(30),v=n.n(h);function x(){var e=Object(m.a)(["\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: cover;\n"]);return x=function(){return e},e}var j=g.a.div(x()),O=n(34),k=n.n(O);function E(){var e=Object(m.a)(["\n  width: 60px;\n  height: 60px;\n  margin: auto;\n  background-image: url(",");\n"]);return E=function(){return e},e}function w(){var e=Object(m.a)(["\n  width: 100%;\n  height: 60px;\n"]);return w=function(){return e},e}var S=g.a.div(w()),B=Object(g.a)(j)(E(),k.a),y=function(){return a.a.createElement(S,null,a.a.createElement(B,null))};function T(){var e=Object(m.a)(['\n  font-family: "Open Sans", sans-serif;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 12px;\n  display: flex;\n  align-items: flex-end;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n\n  color: ',";\n  font-size: ",";\n"]);return T=function(){return e},e}var A=g.a.p(T(),(function(e){return e.color?e.color:"#4a4a4a"}),(function(e){return e.fontSize?e.fontSize:"12px"})),z=n(37);function F(){var e=Object(m.a)(["\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  background: ",";\n  border-radius: 3px;\n  border: ",";\n  transition: all 150ms;\n\n  "," {\n    visibility: ",";\n  }\n"]);return F=function(){return e},e}function C(){var e=Object(m.a)(["\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return C=function(){return e},e}function _(){var e=Object(m.a)(["\n  fill: none;\n  stroke: #2196f3;\n  stroke-width: 2px;\n"]);return _=function(){return e},e}function I(){var e=Object(m.a)(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return I=function(){return e},e}var H=g.a.div(I()),N=g.a.svg(_()),D=g.a.input.attrs({type:"checkbox"})(C()),J=g.a.div(F(),(function(e){return e.checked,"#fff"}),(function(e){return e.checked?"1px solid #2196F3":"1px solid #9ABBCE"}),N,(function(e){return e.checked?"visible":"hidden"})),L=function(e){var t=e.className,n=e.checked,r=Object(z.a)(e,["className","checked"]);return a.a.createElement(H,{className:t},a.a.createElement(D,Object.assign({checked:n},r)),a.a.createElement(J,{checked:n},a.a.createElement(N,{viewBox:"0 0 24 24"},a.a.createElement("polyline",{points:"20 6 9 17 4 12"}))))};function M(){var e=Object(m.a)(["\n  :hover {\n    background-color: #e6edf7;\n  }\n"]);return M=function(){return e},e}function Z(){var e=Object(m.a)(["\n  margin-left: 8px;\n"]);return Z=function(){return e},e}function P(){var e=Object(m.a)(["\n  padding: 0;\n  list-style: none;\n"]);return P=function(){return e},e}function q(){var e=Object(m.a)(["\n  align-items: center;\n  display: flex;\n  cursor: pointer;\n  padding: 0 20px;\n"]);return q=function(){return e},e}function G(){var e=Object(m.a)(["\n  height: 252px;\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  grid-area: 1 / 1 / 3 / 2;\n  padding: 20px 0;\n  box-sizing: border-box;\n"]);return G=function(){return e},e}var K=g.a.div(G()),Q=g.a.label(q()),R=g.a.ul(P()),U=Object(g.a)(A)(Z()),V=g.a.li(M()),W=function(e){var t=e.handleChangeTransfer,n=[{id:"all",title:"\u0412\u0441\u0435 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",value:e.checkAll},{id:"zero",title:"0 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a ",value:e.checkZero},{id:"one",title:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430",value:e.checkOne},{id:"two",title:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",value:e.checkTwo},{id:"three",title:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",value:e.checkThree}];return a.a.createElement(K,null,a.a.createElement(A,{style:{marginTop:0,padding:"0 20px"}},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),a.a.createElement(R,null,n.map((function(e){return a.a.createElement(V,{key:e.id},a.a.createElement(Q,null,a.a.createElement(L,{"data-id":e.id,onChange:t,checked:e.value}),a.a.createElement(U,null,e.title)))}))))},X=function(e){var t=Object(r.useState)(!0),n=Object(d.a)(t,2),c=n[0],i=n[1],u=Object(r.useState)(!1),s=Object(d.a)(u,2),l=s[0],f=s[1],p=Object(r.useState)(!1),b=Object(d.a)(p,2),m=b[0],g=b[1],h=Object(r.useState)(!1),v=Object(d.a)(h,2),x=v[0],j=v[1],O=Object(r.useState)(!1),k=Object(d.a)(O,2),E=k[0],w=k[1],S=e.setFiltredTickets,B=e.transfer,y=e.setTransfer,T=function(e,t){y(e?B.filter((function(e){return e!==t})):c?[t]:[].concat(Object(o.a)(B),[t])),i(!1),S([])};return a.a.createElement(W,{checkAll:c,checkZero:l,checkOne:m,checkTwo:x,checkThree:E,handleChangeTransfer:function(e){switch(e.currentTarget.dataset.id){case"all":c?(S([]),y([])):(f(!1),g(!1),j(!1),w(!1),S([]),y([0,1,2,3])),i(!c);break;case"zero":T(l,0),f(!l);break;case"one":T(m,1),g(!m);break;case"two":T(x,2),j(!x);break;case"three":T(E,3),w(!E)}}})};function Y(){var e=Object(m.a)(["\n  color: ",";\n"]);return Y=function(){return e},e}function $(){var e=Object(m.a)(["\n  color: ",";\n"]);return $=function(){return e},e}function ee(){var e=Object(m.a)(["\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  background-color: ",";\n"]);return ee=function(){return e},e}function te(){var e=Object(m.a)(["\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  background-color: ",";\n"]);return te=function(){return e},e}function ne(){var e=Object(m.a)(["\n  width: 252px;\n  height: 50px;\n  border: none;\n  display: flex;\n  justify-content: center;\n  cursor: pointer;\n  align-items: center;\n  :focus {\n    outline: none;\n  }\n"]);return ne=function(){return e},e}function re(){var e=Object(m.a)(["\n  width: 100%;\n  height: 50px;\n  grid-area: 1 / 2 / 2 / 3;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return re=function(){return e},e}var ae=g.a.div(re()),ce=g.a.button(ne()),ie=Object(g.a)(ce)(te(),(function(e){return"cheap"===e.activeBtnSort?"#2196f3":"#fff"})),oe=Object(g.a)(ce)(ee(),(function(e){return"fast"===e.activeBtnSort?"#2196f3":"#fff"})),ue=Object(g.a)(A)($(),(function(e){return"cheap"===e.activeBtnSort?"#fff":"#000"})),se=Object(g.a)(A)(Y(),(function(e){return"fast"===e.activeBtnSort?"#fff":"#000"})),le=function(e){var t=e.activeBtnSort,n=e.handleSort_cheap_or_fast;return a.a.createElement(ae,null,a.a.createElement(ie,{"data-id":"cheap",activeBtnSort:t,onClick:n},a.a.createElement(ue,{activeBtnSort:t},"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439")),a.a.createElement(oe,{"data-id":"fast",activeBtnSort:t,onClick:n},a.a.createElement(se,{activeBtnSort:t},"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439")))},fe=function(e){var t=e.setFiltredTickets,n=e.filtredTickets,r=e.setActiveBtnSort,c=e.activeBtnSort;return a.a.createElement(le,{handleSort_cheap_or_fast:function(e){switch(e.currentTarget.dataset.id){case"cheap":t(b.a.sortBy(Object(o.a)(n),["price"])),r("cheap");break;case"fast":var a=Object(o.a)(n).sort((function(e,t){return e.segments[0].duration+e.segments[1].duration-(t.segments[0].duration+t.segments[1].duration)}));t(a),r("fast")}},activeBtnSort:c})},de=n(89),pe=n(88);function be(){var e=Object(m.a)(["\n  width: 110px;\n  height: 36px;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n"]);return be=function(){return e},e}function me(){var e=Object(m.a)(["\n  grid-area: ",";\n  &.boxEmpty {\n    grid-area: 1 / 3 / 2 / 4;\n    display: flex;\n    align-items: center;\n  }\n"]);return me=function(){return e},e}function ge(){var e=Object(m.a)(["\n  width: 100%;\n  height: 192px;\n  background-color: #fff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  margin-bottom: 20px;\n  box-sizing: border-box;\n  display: grid;\n  padding-left: 20px;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n  grid-column-gap: 0px;\n  grid-row-gap: 0px;\n"]);return ge=function(){return e},e}var he=g.a.div(ge()),ve=g.a.div(me(),(function(e){return e.gridArea})),xe=g.a.div(be(),(function(e){return e.urlImg})),je=function(e){var t=e.data,n=t.price,r=t.carrier,c=t.segments,i=c[0],o=c[1],u=n.toString().substr(0,2),s=n.toString().substr(2),l=function(e){switch(e.stops.length){case 0:return"\u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a";case 1:return"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430";default:return"".concat(e.stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")}},f=function(e){return"".concat(Object(de.a)(new Date(e.date),"HH:mm")," \u2013 ").concat(Object(de.a)(Object(pe.a)(new Date(e.date),e.duration),"HH:mm"))},d=function(e){return"".concat(e.origin," - ").concat(e.destination)},p=function(e){return"".concat(Math.trunc(e.duration/60),"\u0447 ").concat(e.duration%60,"\u043c")};return a.a.createElement(he,null,a.a.createElement(ve,{gridArea:"1 / 1 / 2 / 2"},a.a.createElement(A,{color:"#2196F3",fontSize:"24px"},"".concat(u," ").concat(s," P"))),a.a.createElement(ve,{gridArea:"2 / 1 / 3 / 2"},a.a.createElement(A,{color:"#A0B0B9"},d(i)),a.a.createElement(A,null,f(i))),a.a.createElement(ve,{gridArea:"3 / 1 / 4 / 2"},a.a.createElement(A,{color:"#A0B0B9"},d(o)),a.a.createElement(A,null,f(o))),a.a.createElement(ve,{gridArea:"1 / 2 / 2 / 3"}),a.a.createElement(ve,{gridArea:"2 / 2 / 3 / 3"},a.a.createElement(A,{color:"#A0B0B9"},"\u0412 \u043f\u0443\u0442\u0438"),a.a.createElement(A,null,p(i))),a.a.createElement(ve,{gridArea:"3 / 2 / 4 / 3"},a.a.createElement(A,{color:"#A0B0B9"},"\u0412 \u043f\u0443\u0442\u0438"),a.a.createElement(A,null,p(o))),a.a.createElement(ve,{gridArea:"1 / 1 / 2 / 2",className:"boxEmpty"},a.a.createElement(xe,{urlImg:"http://pics.avs.io/99/36/".concat(r,".png")})),a.a.createElement(ve,{gridArea:"2 / 3 / 3 / 4"},a.a.createElement(A,{color:"#A0B0B9"},l(i)),a.a.createElement(A,null,i.stops.map((function(e,t){return t+1===i.stops.length?"".concat(e," "):"".concat(e,", ")})))),a.a.createElement(ve,{gridArea:"3 / 3 / 4 / 4"},a.a.createElement(A,{color:"#A0B0B9"},l(o)),a.a.createElement(A,null,o.stops.map((function(e,t){return t+1===o.stops.length?"".concat(e," "):"".concat(e,", ")})))))};function Oe(){var e=Object(m.a)(["\n  width: 502px;\n  height: 100%;\n  grid-area: 2 / 2 / 3 / 3;\n"]);return Oe=function(){return e},e}var ke=g.a.div(Oe()),Ee=function(e){return a.a.createElement(ke,null,e.filtredTickets.slice(0,5).map((function(e){return a.a.createElement(je,{key:e.id,data:e})})))};function we(){var e=Object(m.a)(["\n  width: 502px;\n  height: 100%;\n  grid-area: 2 / 2 / 3 / 3;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 200px;\n"]);return we=function(){return e},e}function Se(){var e=Object(m.a)(["\n  height: 400px;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-template-rows: repeat(2, 1fr);\n  grid-column-gap: 10px;\n  grid-row-gap: 10px;\n"]);return Se=function(){return e},e}function Be(){var e=Object(m.a)(["\n  max-width: 750px;\n  width: 100%;\n  margin: auto;\n  margin-top: 50px;\n"]);return Be=function(){return e},e}var ye=g.a.div(Be()),Te=Object(g.a)(ye)(Se()),Ae=g.a.div(we());var ze=function(e){var t=e.isLoading,n=e.filtredTickets,r=e.setFiltredTickets,c=e.setActiveBtnSort,i=e.activeBtnSort,o=e.transfer,u=e.setTransfer;return a.a.createElement(ye,null,a.a.createElement(y,null),a.a.createElement(Te,null,a.a.createElement(X,{filtredTickets:n,setFiltredTickets:r,transfer:o,setTransfer:u}),a.a.createElement(fe,{activeBtnSort:i,setFiltredTickets:r,filtredTickets:n,setActiveBtnSort:c}),t?a.a.createElement(Ee,{filtredTickets:n}):a.a.createElement(Ae,null,a.a.createElement(v.a,{type:"Bars",color:"#2196f3",height:75,width:75}))))},Fe=n(35),Ce=n.n(Fe),_e=function(){var e=Object(f.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.a.get(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(r.useState)("cheap"),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)([]),s=Object(d.a)(i,2),p=s[0],m=s[1],g=Object(r.useState)(!0),h=Object(d.a)(g,2),v=h[0],x=h[1],j=Object(r.useState)([]),O=Object(d.a)(j,2),k=O[0],E=O[1],w=Object(r.useState)([]),S=Object(d.a)(w,2),B=S[0],y=S[1],T=Object(r.useState)(null),A=Object(d.a)(T,2),z=A[0],F=A[1];return Object(r.useEffect)((function(){(function(){var e=Object(f.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e("https://front-test.beta.aviasales.ru/search");case 3:return t=e.sent,e.next=6,t.data.searchId;case 6:n=e.sent,F(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 id");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){var e=function(){var t=Object(f.a)(l.a.mark((function t(){var n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(z));case 3:n=t.sent,r=0,a=n.data.tickets.map((function(e){return r+=1,Object(u.a)({id:r},e)})),m(Object(o.a)(p.concat(a))),!0===n.data.stop&&(x(!1),y([0,1,2,3])),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),500===t.t0.response.status&&e();case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();v&&null!==z&&e()}),[z,p,v,m,x,y]),Object(r.useEffect)((function(){var e=B.reduce((function(e,t){var n=p.filter((function(e){return e.segments[0].stops.length===t}));return[].concat(Object(o.a)(e),Object(o.a)(n))}),[]);if("cheap"===n&&E(b.a.sortBy(Object(o.a)(e),["price"])),"fast"===n){var t=Object(o.a)(e).sort((function(e,t){return e.segments[0].duration+e.segments[1].duration-(t.segments[0].duration+t.segments[1].duration)}));E(t)}}),[B]),a.a.createElement(ze,{filtredTickets:k,setFiltredTickets:E,transfer:B,setTransfer:y,isLoading:!v,activeBtnSort:n,setActiveBtnSort:c})};i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ie,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.297d1422.chunk.js.map