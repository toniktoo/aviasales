(this.webpackJsonpaviasales=this.webpackJsonpaviasales||[]).push([[0],{34:function(e,t,n){e.exports=n.p+"static/media/logo.0c089234.svg"},38:function(e,t,n){e.exports=n(86)},44:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),i=n.n(c),o=(n(43),n(44),n(7)),u=n(8),l=n(1),s=n(2),f=n(30),d=n.n(f);function p(){var e=Object(l.a)(["\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: cover;\n"]);return p=function(){return e},e}var b=s.a.div(p()),m=n(34),g=n.n(m);function h(){var e=Object(l.a)(["\n  width: 60px;\n  height: 60px;\n  margin: auto;\n  background-image: url(",");\n"]);return h=function(){return e},e}function v(){var e=Object(l.a)(["\n  width: 100%;\n  height: 60px;\n"]);return v=function(){return e},e}var E=s.a.div(v()),x=Object(s.a)(b)(h(),g.a),j=function(){return r.a.createElement(E,null,r.a.createElement(x,null))};function O(){var e=Object(l.a)(['\n  font-family: "Open Sans", sans-serif;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 12px;\n  display: flex;\n  align-items: flex-end;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n\n  color: ',";\n  font-size: ",";\n"]);return O=function(){return e},e}var k=s.a.p(O(),(function(e){return e.color?e.color:"#4a4a4a"}),(function(e){return e.fontSize?e.fontSize:"12px"})),w=n(37);function B(){var e=Object(l.a)(["\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  background: ",";\n  border-radius: 3px;\n  border: ",";\n  transition: all 150ms;\n\n  "," {\n    visibility: ",";\n  }\n"]);return B=function(){return e},e}function S(){var e=Object(l.a)(["\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return S=function(){return e},e}function y(){var e=Object(l.a)(["\n  fill: none;\n  stroke: #2196f3;\n  stroke-width: 2px;\n"]);return y=function(){return e},e}function A(){var e=Object(l.a)(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return A=function(){return e},e}var z=s.a.div(A()),C=s.a.svg(y()),T=s.a.input.attrs({type:"checkbox"})(S()),F=s.a.div(B(),(function(e){return e.checked,"#fff"}),(function(e){return e.checked?"1px solid #2196F3":"1px solid #9ABBCE"}),C,(function(e){return e.checked?"visible":"hidden"})),_=function(e){var t=e.className,n=e.checked,a=Object(w.a)(e,["className","checked"]);return r.a.createElement(z,{className:t},r.a.createElement(T,Object.assign({checked:n},a)),r.a.createElement(F,{checked:n},r.a.createElement(C,{viewBox:"0 0 24 24"},r.a.createElement("polyline",{points:"20 6 9 17 4 12"}))))};function I(){var e=Object(l.a)(["\n  margin-left: 8px;\n"]);return I=function(){return e},e}function H(){var e=Object(l.a)(["\n  padding: 0;\n  list-style: none;\n"]);return H=function(){return e},e}function N(){var e=Object(l.a)(["\n  align-items: center;\n  display: flex;\n"]);return N=function(){return e},e}function D(){var e=Object(l.a)(["\n  height: 252px;\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  grid-area: 1 / 1 / 3 / 2;\n  padding: 20px;\n  box-sizing: border-box;\n"]);return D=function(){return e},e}var J=s.a.div(D()),L=s.a.label(N()),M=s.a.ul(H()),q=Object(s.a)(k)(I()),G=function(e){var t=e.handleChangeTransfer,n=e.all,a=e.zero,c=e.one,i=e.two,o=e.three;return r.a.createElement(J,null,r.a.createElement(k,{style:{marginTop:0}},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),r.a.createElement(M,null,r.a.createElement("li",null,r.a.createElement(L,null,r.a.createElement(_,{"data-id":"all",onChange:t,checked:n}),r.a.createElement(q,null,"\u0412\u0441\u0435"))),r.a.createElement("li",null,r.a.createElement(L,null,r.a.createElement(_,{"data-id":"zero",onChange:t,checked:a}),r.a.createElement(q,null,"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"))),r.a.createElement("li",null,r.a.createElement(L,null,r.a.createElement(_,{"data-id":"one",onChange:t,checked:c}),r.a.createElement(q,null,"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"))),r.a.createElement("li",null,r.a.createElement(L,null,r.a.createElement(_,{"data-id":"two",onChange:t,checked:i}),r.a.createElement(q,null,"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"))),r.a.createElement("li",null,r.a.createElement(L,null,r.a.createElement(_,{"data-id":"three",onChange:t,checked:o}),r.a.createElement(q,null,"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")))))},K=function(e){var t=Object(a.useState)(!0),n=Object(u.a)(t,2),c=n[0],i=n[1],l=Object(a.useState)(!1),s=Object(u.a)(l,2),f=s[0],d=s[1],p=Object(a.useState)(!1),b=Object(u.a)(p,2),m=b[0],g=b[1],h=Object(a.useState)(!1),v=Object(u.a)(h,2),E=v[0],x=v[1],j=Object(a.useState)(!1),O=Object(u.a)(j,2),k=O[0],w=O[1],B=e.setFiltred,S=e.transfer,y=e.setTransfer,A=function(e,t){y(e?S.filter((function(e){return e!==t})):c?[t]:[].concat(Object(o.a)(S),[t])),i(!1),B([])};return r.a.createElement(G,{all:c,zero:f,one:m,two:E,three:k,handleChangeTransfer:function(e){switch(e.currentTarget.dataset.id){case"all":c?(B([]),y([])):(d(!1),g(!1),x(!1),B([]),y([0,1,2,3])),i(!c);break;case"zero":A(f,0),d(!f);break;case"one":A(m,1),g(!m);break;case"two":A(E,2),x(!E);break;case"three":A(k,3),w(!k)}}})};function P(){var e=Object(l.a)(["\n  color: ",";\n"]);return P=function(){return e},e}function Q(){var e=Object(l.a)(["\n  color: ",";\n"]);return Q=function(){return e},e}function R(){var e=Object(l.a)(["\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  background-color: ",";\n"]);return R=function(){return e},e}function U(){var e=Object(l.a)(["\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  background-color: ",";\n"]);return U=function(){return e},e}function V(){var e=Object(l.a)(["\n  width: 252px;\n  height: 50px;\n  border: none;\n  display: flex;\n  justify-content: center;\n  cursor: pointer;\n  align-items: center;\n  :focus {\n    outline: none;\n  }\n"]);return V=function(){return e},e}function W(){var e=Object(l.a)(["\n  width: 100%;\n  height: 50px;\n  grid-area: 1 / 2 / 2 / 3;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return W=function(){return e},e}var X=s.a.div(W()),Y=s.a.button(V()),Z=Object(s.a)(Y)(U(),(function(e){return"cheap"===e.activeBtnSort?"#2196f3":"#fff"})),$=Object(s.a)(Y)(R(),(function(e){return"fast"===e.activeBtnSort?"#2196f3":"#fff"})),ee=Object(s.a)(k)(Q(),(function(e){return"cheap"===e.activeBtnSort?"#fff":"#000"})),te=Object(s.a)(k)(P(),(function(e){return"fast"===e.activeBtnSort?"#fff":"#000"})),ne=function(e){var t=e.activeBtnSort,n=e.handleSort_cheap_or_fast;return r.a.createElement(X,null,r.a.createElement(Z,{"data-id":"cheap",activeBtnSort:t,onClick:n},r.a.createElement(ee,{activeBtnSort:t},"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439")),r.a.createElement($,{"data-id":"fast",activeBtnSort:t,onClick:n},r.a.createElement(te,{activeBtnSort:t},"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439")))},ae=n(35),re=n.n(ae),ce=function(e,t,n){return re.a.orderBy(e,t,n)},ie=function(e){var t=e.setFiltred,n=e.filtred,a=e.setActiveBtnSort,c=e.activeBtnSort;return r.a.createElement(ne,{handleSort_cheap_or_fast:function(e){switch(e.currentTarget.dataset.id){case"cheap":t(ce(Object(o.a)(n),["price"],["asc"])),a("cheap");break;case"fast":t(ce(Object(o.a)(n),["segments[0].duration"],["asc"])),a("fast")}},activeBtnSort:c})},oe=n(36),ue=n.n(oe),le=n(89),se=n(88);function fe(){var e=Object(l.a)(["\n  width: 110px;\n  height: 36px;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n"]);return fe=function(){return e},e}function de(){var e=Object(l.a)(["\n  grid-area: ",";\n  &.boxEmpty {\n    grid-area: 1 / 3 / 2 / 4;\n    display: flex;\n    align-items: center;\n  }\n"]);return de=function(){return e},e}function pe(){var e=Object(l.a)(["\n  width: 100%;\n  height: 192px;\n  background-color: #fff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  margin-bottom: 20px;\n  box-sizing: border-box;\n  display: grid;\n  padding-left: 20px;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n  grid-column-gap: 0px;\n  grid-row-gap: 0px;\n"]);return pe=function(){return e},e}var be=s.a.div(pe()),me=s.a.div(de(),(function(e){return e.gridArea})),ge=s.a.div(fe(),(function(e){return e.urlImg})),he=function(e){var t=e.data,n=t.price,a=t.carrier,c=t.segments,i=c[0],o=c[1],u=function(e){switch(e.stops.length){case 0:return"\u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a";case 1:return"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430";default:return"".concat(e.stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")}},l=function(e){return"".concat(Object(le.a)(new Date(e.date),"HH:mm")," \u2013 ").concat(Object(le.a)(Object(se.a)(new Date(e.date),e.duration),"HH:mm"))},s=function(e){return"".concat(e.origin," - ").concat(e.destination)},f=function(e){return"".concat(Math.trunc(e.duration/60),"\u0447 ").concat(e.duration%60,"\u043c")};return r.a.createElement(be,null,r.a.createElement(me,{gridArea:"1 / 1 / 2 / 2"},r.a.createElement(k,{color:"#2196F3",fontSize:"24px"},n,"\u0420")),r.a.createElement(me,{gridArea:"2 / 1 / 3 / 2"},r.a.createElement(k,{color:"#A0B0B9"},s(i)),r.a.createElement(k,null,l(i))),r.a.createElement(me,{gridArea:"3 / 1 / 4 / 2"},r.a.createElement(k,{color:"#A0B0B9"},s(o)),r.a.createElement(k,null,l(o))),r.a.createElement(me,{gridArea:"1 / 2 / 2 / 3"}),r.a.createElement(me,{gridArea:"2 / 2 / 3 / 3"},r.a.createElement(k,{color:"#A0B0B9"},"\u0412 \u043f\u0443\u0442\u0438"),r.a.createElement(k,null,f(i))),r.a.createElement(me,{gridArea:"3 / 2 / 4 / 3"},r.a.createElement(k,{color:"#A0B0B9"},"\u0412 \u043f\u0443\u0442\u0438"),r.a.createElement(k,null,f(o))),r.a.createElement(me,{gridArea:"1 / 1 / 2 / 2",className:"boxEmpty"},r.a.createElement(ge,{urlImg:"http://pics.avs.io/99/36/".concat(a,".png")})),r.a.createElement(me,{gridArea:"2 / 3 / 3 / 4"},r.a.createElement(k,{color:"#A0B0B9"},u(i)),r.a.createElement(k,null,i.stops.map((function(e){return"".concat(e," ")})))),r.a.createElement(me,{gridArea:"3 / 3 / 4 / 4"},r.a.createElement(k,{color:"#A0B0B9"},u(o)),r.a.createElement(k,null,o.stops.map((function(e){return"".concat(e," ")})))))};function ve(){var e=Object(l.a)(["\n  width: 502px;\n  height: 100%;\n  grid-area: 2 / 2 / 3 / 3;\n"]);return ve=function(){return e},e}var Ee=s.a.div(ve()),xe=function(e){return r.a.createElement(Ee,null,e.arr_tickets.filter((function(e,t){return t<5})).map((function(e){return r.a.createElement(he,{key:ue()(),data:e})})))};function je(){var e=Object(l.a)(["\n  width: 502px;\n  height: 100%;\n  grid-area: 2 / 2 / 3 / 3;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 200px;\n"]);return je=function(){return e},e}function Oe(){var e=Object(l.a)(["\n  height: 400px;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-template-rows: repeat(2, 1fr);\n  grid-column-gap: 10px;\n  grid-row-gap: 10px;\n"]);return Oe=function(){return e},e}function ke(){var e=Object(l.a)(["\n  max-width: 750px;\n  width: 100%;\n  margin: auto;\n  margin-top: 50px;\n"]);return ke=function(){return e},e}var we=s.a.div(ke()),Be=Object(s.a)(we)(Oe()),Se=s.a.div(je());var ye=function(e){var t=e.isLoading,n=e.filtred,a=e.setFiltred,c=e.setActiveBtnSort,i=e.activeBtnSort,o=e.handleChangeTransfer,u=e.transfer,l=e.setTransfer;return r.a.createElement(we,null,r.a.createElement(j,null),r.a.createElement(Be,null,r.a.createElement(K,{handleChangeTransfer:o,filtred:n,setFiltred:a,transfer:u,setTransfer:l}),r.a.createElement(ie,{activeBtnSort:i,setFiltred:a,filtred:n,setActiveBtnSort:c}),t?r.a.createElement(xe,{arr_tickets:n}):r.a.createElement(Se,null,r.a.createElement(d.a,{type:"Bars",color:"#2196f3",height:75,width:75}))))},Ae=n(10),ze=n.n(Ae),Ce=n(15),Te=n(17),Fe=n.n(Te),_e=function(){var e=Object(a.useState)("cheap"),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),l=Object(u.a)(i,2),s=l[0],f=l[1],d=Object(a.useState)(!0),p=Object(u.a)(d,2),b=p[0],m=p[1],g=Object(a.useState)([]),h=Object(u.a)(g,2),v=h[0],E=h[1],x=Object(a.useState)([]),j=Object(u.a)(x,2),O=j[0],k=j[1];return function(e,t,n,r,c){var i=Object(a.useState)(null),l=Object(u.a)(i,2),s=l[0],f=l[1];Object(a.useEffect)((function(){var a=function(){var e=Object(Ce.a)(ze.a.mark((function e(){var t,n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.a.get("https://front-test.beta.aviasales.ru/search");case 3:return t=e.sent,e.next=6,t.data.searchId;case 6:n=e.sent,f(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 id");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var a=Object(Ce.a)(ze.a.mark((function a(){var r;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Fe.a.get("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(s));case 3:r=a.sent,e(Object(o.a)(t.concat(r.data.tickets))),!0===r.data.stop&&(n(!1),c([0,1,2,3])),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),500===a.t0.response.status&&i();case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}();r&&function(){var e=Object(Ce.a)(ze.a.mark((function e(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===s&&a(),null!==s&&i();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[s,t,r,e,n,c])}(f,s,m,b,k),Object(a.useEffect)((function(){var e=O.reduce((function(e,t){var n=s.filter((function(e){return e.segments[0].stops.length===t}));return[].concat(Object(o.a)(e),Object(o.a)(n))}),[]);"cheap"===n&&E(ce([].concat(Object(o.a)(v),Object(o.a)(e)),["price"],["asc"])),"fast"===n&&E(ce([].concat(Object(o.a)(v),Object(o.a)(e)),["segments[0].duration"],["asc"]))}),[O]),r.a.createElement(ye,{filtred:v,setFiltred:E,transfer:O,setTransfer:k,isLoading:!b,activeBtnSort:n,setActiveBtnSort:c})};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_e,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1986a405.chunk.js.map